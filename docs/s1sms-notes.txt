IY = $D200

(IY+$00) is a bit field:
  b0 = 0 if waiting for vblank, 1 if vblank fired
  b2 = ? signals D225=HL, D227=DE, D229=BC
  b3 = 1 if sending a palette change from the main thread, D22B=HL, D22F=A
    D22B=HL = palette
    D22F=A  = bit flags:
      bit 0 = send palette 0
      bit 1 = send palette 1
  b5 = ?
  b6 = ?
  b7 = ?

(IY+$03) contains the player 1 inputs from port $DC with its two player 2 inputs forced to 1 (unasserted).

(IY+$06) is a bit field:
  b7 = ? (0 prevents an IRQ-provided palette load at a certain point)

(IY+$07) is a bit field:
  b3 = pause (toggled on NMI)
  b4 = selects one of two scanline effect palettes to use on scanline transition

(IY+$09) is a bit field:
  b1 = 1 if we want to keep interrupts disabled or at least unaffected when calling certain functions

($D247).b indicates palette change scanline effect state:
  $FF -> $FF = we're in vblank, line interrupt disabled
  $00 -> $03 = we're in vblank, enable line interrupt + trigger after $0A+1 lines
  $03 -> $02 = line interrupt, set next trigger to ($D248).b minus the current scanline (+ 1)
  $02 -> $01 = line interrupt, do nothing but advance
  $01 -> $00 = line interrupt, load palette + disable line interrupt
